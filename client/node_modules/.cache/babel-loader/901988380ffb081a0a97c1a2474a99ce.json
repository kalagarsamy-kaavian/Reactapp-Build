{"ast":null,"code":"import _slicedToArray from \"D:\\\\ui\\\\design\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\ui\\\\design\\\\client\\\\src\\\\login\\\\userlogin.js\";\nimport React, { useState, useEffect } from 'react';\nimport ReCAPTCHA from \"react-google-recaptcha\";\nimport { Link, useParams } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\nimport bgimg from \"./bbb.svg\";\nimport avatarimg from \"./pic.svg\";\nimport waveimg from './wavee.png';\nimport './Tllogin.css';\nimport { Icon } from 'react-icons-kit';\nimport { eyeOff } from 'react-icons-kit/feather/eyeOff';\nimport { eye } from 'react-icons-kit/feather/eye';\n\n// import './todo.css'\nexport default function Userlogin() {\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    pass = _useState4[0],\n    setPass = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    use = _useState6[0],\n    setUse = _useState6[1];\n  var _useState7 = useState(\"password\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    type = _useState8[0],\n    setType = _useState8[1];\n  var _useState9 = useState(eyeOff),\n    _useState10 = _slicedToArray(_useState9, 2),\n    icon = _useState10[0],\n    setIcon = _useState10[1];\n  var _useState11 = useState(\"\"),\n    _useState12 = _slicedToArray(_useState11, 2),\n    msg = _useState12[0],\n    setMsg = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    verified = _useState14[0],\n    setVerified = _useState14[1];\n  var navigate = useNavigate();\n  // const[item,setItem]=useState([]);\n\n  // const [use,setUse]=useState([]);\n  // const [check,setCheck]=useState([]);\n  var handleToggle = function handleToggle() {\n    if (type === \"password\") {\n      setIcon(eye);\n      setType('text');\n    } else {\n      setIcon(eyeOff);\n      setType(\"password\");\n    }\n  };\n  function onChange(value) {\n    console.log(\"Captcha value:\", value);\n    setVerified(true);\n  }\n  function onsubmit() {\n    //fetch(`http://localhost:3002/check`).then(res=>res.json()).then(data=>setCheck(data));\n    fetch('http://localhost:3002/login', {\n      method: \"post\",\n      body: JSON.stringify({\n        user: user,\n        pass: pass\n      }),\n      headers: {\n        'Content-type': 'application/json'\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      localStorage.setItem('data', data.Empid);\n      if (data.role === \"User\") {\n        setUse(data);\n        navigate(\"/user\");\n      } else if (data.role === \"Admin\") {\n        navigate(\"/admin\");\n      } else {\n        setMsg(msg);\n      }\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    class: \"wave\",\n    src: waveimg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: bgimg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"login-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: avatarimg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    class: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }, \"Welcome\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-div one\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"i\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    placeholder: \"Username\",\n    onChange: function onChange(e) {\n      return setUser(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-div pass\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"i\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-lock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: type,\n    class: \"input\",\n    placeholder: \"Password\",\n    name: \"password\",\n    onChange: function onChange(e) {\n      return setPass(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"click\",\n    onClick: handleToggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: icon,\n    size: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 79\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"captcha\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(ReCAPTCHA, {\n    sitekey: \"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 26\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    class: \"btn\",\n    disabled: !verified,\n    onClick: onsubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 25\n    }\n  }, \"LOGIN\"), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  }, msg)))));\n}","map":{"version":3,"names":["React","useState","useEffect","ReCAPTCHA","Link","useParams","useNavigate","waveimg","Icon","eyeOff","eye","Userlogin","user","setUser","pass","setPass","use","setUse","type","setType","icon","setIcon","msg","setMsg","verified","setVerified","navigate","handleToggle","onChange","value","console","log","onsubmit","fetch","method","body","JSON","stringify","headers","then","res","json","data","localStorage","setItem","Empid","role","bgimg","avatarimg","e","target"],"sources":["D:/ui/design/client/src/login/userlogin.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport ReCAPTCHA from \"react-google-recaptcha\";\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport bgimg from './bbb.svg'\r\nimport avatarimg from './pic.svg';\r\nimport waveimg from './wavee.png'\r\nimport './Tllogin.css';\r\nimport{Icon} from 'react-icons-kit'\r\nimport {eyeOff} from 'react-icons-kit/feather/eyeOff'\r\nimport {eye} from 'react-icons-kit/feather/eye'\r\n\r\n// import './todo.css'\r\nexport default function Userlogin() {\r\n\r\n    const [user, setUser] = useState(\"\")\r\n    const [pass, setPass] = useState(\"\")\r\n    const [use, setUse] = useState([])\r\n    const[type,setType]=useState(\"password\");\r\n    const[icon,setIcon]=useState(eyeOff);\r\n    const[msg,setMsg]=useState(\"\")\r\n    const[verified,setVerified]=useState(false);\r\n    const navigate = useNavigate();\r\n    // const[item,setItem]=useState([]);\r\n    \r\n    // const [use,setUse]=useState([]);\r\n    // const [check,setCheck]=useState([]);\r\n    const handleToggle=()=>{\r\n        if(type===\"password\"){\r\n            setIcon(eye);\r\n            setType('text');\r\n        }\r\n        else{\r\n            setIcon(eyeOff);\r\n            setType(\"password\");\r\n        }\r\n    }\r\n    function onChange(value){\r\n        console.log(\"Captcha value:\" , value);\r\n        setVerified(true);\r\n    }\r\n    function onsubmit() {\r\n        //fetch(`http://localhost:3002/check`).then(res=>res.json()).then(data=>setCheck(data));\r\n        fetch('http://localhost:3002/login', { method: \"post\", body: JSON.stringify({ user, pass }), headers: { 'Content-type': 'application/json' } })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                localStorage.setItem('data', data.Empid);\r\n                if (data.role === \"User\") {\r\n                    \r\n                    setUse(data)\r\n                    navigate(`/user`)\r\n                }\r\n                else if (data.role === \"Admin\") {\r\n                    navigate(\"/admin\")\r\n                }\r\n                else  {\r\n                setMsg(msg)\r\n                }\r\n            })\r\n    }\r\n    return (<div>\r\n        <img class=\"wave\" src={waveimg} />\r\n        <div class=\"container\">\r\n            <div class=\"img\">\r\n                <img src={bgimg} />\r\n            </div>\r\n            <div class=\"login-content\">\r\n\r\n                    <div>\r\n                        <img src={avatarimg} />\r\n                        <h2 class=\"title\">Welcome</h2>\r\n                        <div class=\"input-div one\">\r\n                            <div class=\"i\">\r\n                                <i class=\"fas fa-user\"></i>\r\n                            </div>\r\n                            <div class=\"div\">\r\n                                {/* <h5>Username</h5>  */}\r\n                                <input type=\"text\" name=\"username\" placeholder=\"Username\" onChange={(e) => setUser(e.target.value)}></input>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"input-div pass\">\r\n                            <div class=\"i\">\r\n                                <i class=\"fas fa-lock\"></i>\r\n                            </div>\r\n                            <div class=\"div\">\r\n                                {/* <h5>Password</h5>  */}\r\n                                <input type={type} class=\"input\" placeholder=\"Password\" name=\"password\" onChange={(e) => setPass(e.target.value)}></input>\r\n                                <span className=\"click\"onClick={handleToggle}><Icon icon={icon} size={10}/></span>\r\n                            </div>\r\n                        </div>\r\n                        <div id=\"captcha\">\r\n                         <ReCAPTCHA\r\n                          sitekey=\"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI\"\r\n                          onChange={onChange}\r\n                         /></div>\r\n                        {/* <a href=\"#\">Forgot Password?</a> */}\r\n                        <button class=\"btn\" disabled={!verified} onClick={onsubmit}>LOGIN</button>\r\n                        <h4>{msg}</h4>\r\n                    </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,SAASC,IAAI,EAAEC,SAAS,QAAQ,kBAAkB;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAAC;AAAA;AAG/C,OAAOC,OAAO,MAAM,aAAa;AACjC,OAAO,eAAe;AACtB,SAAOC,IAAI,QAAO,iBAAiB;AACnC,SAAQC,MAAM,QAAO,gCAAgC;AACrD,SAAQC,GAAG,QAAO,6BAA6B;;AAE/C;AACA,eAAe,SAASC,SAAS,GAAG;EAAA,gBAERV,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA7BW,IAAI;IAAEC,OAAO;EAAA,iBACIZ,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA7Ba,IAAI;IAAEC,OAAO;EAAA,iBACEd,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA3Be,GAAG;IAAEC,MAAM;EAAA,iBACEhB,QAAQ,CAAC,UAAU,CAAC;IAAA;IAAlCiB,IAAI;IAACC,OAAO;EAAA,iBACElB,QAAQ,CAACQ,MAAM,CAAC;IAAA;IAA9BW,IAAI;IAACC,OAAO;EAAA,kBACApB,QAAQ,CAAC,EAAE,CAAC;IAAA;IAAxBqB,GAAG;IAACC,MAAM;EAAA,kBACYtB,QAAQ,CAAC,KAAK,CAAC;IAAA;IAArCuB,QAAQ;IAACC,WAAW;EAC1B,IAAMC,QAAQ,GAAGpB,WAAW,EAAE;EAC9B;;EAEA;EACA;EACA,IAAMqB,YAAY,GAAC,SAAbA,YAAY,GAAK;IACnB,IAAGT,IAAI,KAAG,UAAU,EAAC;MACjBG,OAAO,CAACX,GAAG,CAAC;MACZS,OAAO,CAAC,MAAM,CAAC;IACnB,CAAC,MACG;MACAE,OAAO,CAACZ,MAAM,CAAC;MACfU,OAAO,CAAC,UAAU,CAAC;IACvB;EACJ,CAAC;EACD,SAASS,QAAQ,CAACC,KAAK,EAAC;IACpBC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAGF,KAAK,CAAC;IACrCJ,WAAW,CAAC,IAAI,CAAC;EACrB;EACA,SAASO,QAAQ,GAAG;IAChB;IACAC,KAAK,CAAC,6BAA6B,EAAE;MAAEC,MAAM,EAAE,MAAM;MAAEC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEzB,IAAI,EAAJA,IAAI;QAAEE,IAAI,EAAJA;MAAK,CAAC,CAAC;MAAEwB,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB;IAAE,CAAC,CAAC,CAC1IC,IAAI,CAAC,UAAAC,GAAG;MAAA,OAAIA,GAAG,CAACC,IAAI,EAAE;IAAA,EAAC,CACvBF,IAAI,CAAC,UAAAG,IAAI,EAAI;MACVC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEF,IAAI,CAACG,KAAK,CAAC;MACxC,IAAIH,IAAI,CAACI,IAAI,KAAK,MAAM,EAAE;QAEtB7B,MAAM,CAACyB,IAAI,CAAC;QACZhB,QAAQ,SAAS;MACrB,CAAC,MACI,IAAIgB,IAAI,CAACI,IAAI,KAAK,OAAO,EAAE;QAC5BpB,QAAQ,CAAC,QAAQ,CAAC;MACtB,CAAC,MACK;QACNH,MAAM,CAACD,GAAG,CAAC;MACX;IACJ,CAAC,CAAC;EACV;EACA,oBAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACJ;IAAK,KAAK,EAAC,MAAM;IAAC,GAAG,EAAEf,OAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,eAClC;IAAK,KAAK,EAAC,WAAW;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAClB;IAAK,KAAK,EAAC,KAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACZ;IAAK,GAAG,EAAEwC,KAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CACjB,eACN;IAAK,KAAK,EAAC,eAAe;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAElB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAK,GAAG,EAAEC,SAAU;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,eACvB;IAAI,KAAK,EAAC,OAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,aAAa,eAC9B;IAAK,KAAK,EAAC,eAAe;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACtB;IAAK,KAAK,EAAC,GAAG;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACV;IAAG,KAAK,EAAC,aAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAK,CACzB,eACN;IAAK,KAAK,EAAC,KAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAEZ;IAAO,IAAI,EAAC,MAAM;IAAC,IAAI,EAAC,UAAU;IAAC,WAAW,EAAC,UAAU;IAAC,QAAQ,EAAE,kBAACC,CAAC;MAAA,OAAKpC,OAAO,CAACoC,CAAC,CAACC,MAAM,CAACrB,KAAK,CAAC;IAAA,CAAC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAS,CAC1G,CACJ,eACN;IAAK,KAAK,EAAC,gBAAgB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACvB;IAAK,KAAK,EAAC,GAAG;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACV;IAAG,KAAK,EAAC,aAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAK,CACzB,eACN;IAAK,KAAK,EAAC,KAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAEZ;IAAO,IAAI,EAAEX,IAAK;IAAC,KAAK,EAAC,OAAO;IAAC,WAAW,EAAC,UAAU;IAAC,IAAI,EAAC,UAAU;IAAC,QAAQ,EAAE,kBAAC+B,CAAC;MAAA,OAAKlC,OAAO,CAACkC,CAAC,CAACC,MAAM,CAACrB,KAAK,CAAC;IAAA,CAAC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAS,eAC1H;IAAM,SAAS,EAAC,OAAO;IAAA,OAAO,EAAEF,YAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAAC,oBAAC,IAAI;IAAC,IAAI,EAAEP,IAAK;IAAC,IAAI,EAAE,EAAG;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAE,CAAO,CAChF,CACJ,eACN;IAAK,EAAE,EAAC,SAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAChB,oBAAC,SAAS;IACT,OAAO,EAAC,0CAA0C;IAClD,QAAQ,EAAEQ,QAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAClB,CAAM,eAET;IAAQ,KAAK,EAAC,KAAK;IAAC,QAAQ,EAAE,CAACJ,QAAS;IAAC,OAAO,EAAEQ,QAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,WAAe,eAC1E;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAKV,GAAG,CAAM,CACZ,CACR,CACJ,CACJ;AAEV"},"metadata":{},"sourceType":"module"}